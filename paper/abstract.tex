\begin{abstract}
This paper proposes a closed-loop testing setup for pacemakers, in which the pacemaker is connected to a Virtual Heart Model (VHM) and both device and heart signals are used to assess correctness of the device's operation. 
The test inputs are automatically generated by a requirements-guided algorithm that uses the desired heart behavior as a guide for finding test cases that violate it.
These can be replayed by the designer to determine whether the pacemaker operated incorrectly.
The advantages of closed-loop testing over open-loop testing are illustrated with two experiments involving the VHM and a validated pacemaker model.
\end{abstract}