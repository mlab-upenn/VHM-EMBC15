\section{Method: Requirements-guided closed-loop testing}
\label{method}

%\begin{figure}[!t]
%	\centering
%	\includegraphics[scale=0.4]{reqGuidedTesting.pdf}
%	\caption{\small Requirements-guided closed-loop testing methodology.}
%	\label{fig:reqGuidedTesting}
%\end{figure} 
\begin{figure}[!t]
	\centering
	\includegraphics[scale=1.2]{figures/HOCannotated.pdf}		
	\caption{\small Heart-on-a-Chip platform, showing the pacemaker and the microcontroller running the Virtual Heart Model code.}
	\label{fig:hoc}
\end{figure} 

Figure \ref{fig:reqGuidedTesting} shows the requirements-guided closed-loop testing setup that we use in this paper to find unsafe or undesirable behavior of the heart connected to the pacemaker.
In what follows, we describe each component in details.

\input{heartModel}
\input{HoC}
\input{closedloop}

